How to Install Virtual Box on Rocky 9
-------------------------------------

References
----------
https://computingforgeeks.com/install-virtualbox-on-rocky-almalinux/


Procedure
---------
 1. Verify that virtualization is enabled on your computer
    unix> lscpu | grep -i virtualization

    You should see something like this:
      Virtualization:                  VT-x     (this is good)


 2. Verify that you are running 64-bit
    unix> lscpu

    Architecture:            x86_64
      CPU op-mode(s):        32-bit, 64-bit
      Address sizes:         39 bits physical, 48 bits virtual


 3. Add the Virtualbox Repository
    unix> sudo dnf install epel-release

 4. Install the required build tools:
    unix> sudo dnf install wget curl gcc make perl bzip2 dkms kernel-devel kernel-headers

 5. Compare the kernel-devel versions and the kernel versions:
    a. Get the version of the kernel header installed
       unix> sudo rpm -q kernel-devel

       I see this:
          kernel-devel-5.14.0-362.13.1.el9_3.x86_64


    b. Get the version of the kernel that is running
       unix> uname -r

       I see this:
          5.14.0-362.13.1.el9_3.x86_64


    c. If they do not match, then update the kernel
       unix> sudo dnf update
       unix> sudo reboot

  6. Add the repository for virtual box
     unix> sudo dnf config-manager --add-repo=https://download.virtualbox.org/virtualbox/rpm/el/virtualbox.repo

  7. List versions that are available for install
     unix> sudo dnf search virtualbox

  8. Install virtualbox 7
     unix> sudo dnf install VirtualBox-7.0

  9. Install the virtual box extension pack
     unix> VER=$(curl -s https://download.virtualbox.org/virtualbox/LATEST.TXT)
     unix> echo $VER
     unix> cd /tmp
     unix> wget https://download.virtualbox.org/virtualbox/$VER/Oracle_VM_VirtualBox_Extension_Pack-$VER.vbox-extpack
     -- You should have this file:  /tmp/Oracle_VM_VirtualBox_Extension_Pack-7.0.14.vbox-extpack

 10. Build the kernel modules
     unix> sudo /sbin/vboxconfig


 11. Once downloaded, navigate to the location of the file and install it with the command:
     unix> cd /tmp
     unix> sudo VBoxManage extpack install Oracle_VM_VirtualBox_Extension_Pack-*.vbox-extpack

	 Do you agree to these license terms and conditions (y/n)?   Y


 12. Startup virtualbox
     unix> virtualbox
